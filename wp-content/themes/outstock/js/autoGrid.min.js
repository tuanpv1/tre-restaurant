/*
    Auto Grid Plugin
    @author Nguyen Ðuc Viet 09/01/2016
    usage:
     $(document).ready(function() {

        $('#blog-landing').autoGrid({
            no_columns: 4
        });
    });
*/
!function(t,i,a,n){function e(i,a){this.element=i,this.options=t.extend({},u,a),this._defaults=u,this._name=h,this.init()}var o,s,c,h="autoGrid",u={padding_x:0,padding_y:10,no_columns:4,margin_bottom:0};e.prototype.init=function(){var a,n,e=this;t(i).resize(function(){clearTimeout(a),a=setTimeout(function(){e.make_layout_change(e)},10),clearTimeout(n),n=setTimeout(function(){e.make_layout_change(e)},1e3)}),e.make_layout_change(e),t(i).bind("load",function(){e.make_layout_change(e)})},e.prototype.calculate=function(i){var a=this,n=0,e=t(this.element);e.width();s=t(this.element).children(),c=e.width()-a.options.padding_x,i>0&&(c=(e.width()-a.options.padding_x*i)/i),e.css("position","relative"),s.each(function(){t(this).css({width:c,transition:"all 0.4s",position:"absolute",background:"#FFFFFF"})}),o=i;var h=0;s.each(function(i){var e=0,s=0,u=0,l=t(this),r=l.prevAll();if(l.is(":visible")){o>0&&(e=h%o);for(var d=0;o>d;d++)l.removeClass("c"+d);h%o===0&&n++,l.addClass("c"+e),l.addClass("r"+n),r.each(function(i){t(this).is(":visible")&&t(this).hasClass("c"+e)&&(u+=t(this).outerHeight()+a.options.padding_y)}),o>0&&(s=h%o*(c+a.options.padding_x)),l.css({left:s,top:u}),h++}}),this.tallest(e)},e.prototype.tallest=function(i){for(var a=[],n=0,e=0;o>e;e++){var s=0;i.find(".c"+e).each(function(){s+=t(this).outerHeight()}),a[e]=s}n=Math.max.apply(Math,a),i.css("height",n+(this.options.padding_y+this.options.margin_bottom))},e.prototype.make_layout_change=function(a){var n,e,o,s=a.options.no_columns;switch(s){case 1:n=1,e=1,o=1;break;case 4:n=4,e=3,o=2;break;case 3:n=2,e=2,o=2;break;case 2:n=2,e=1,o=1;break;default:n=4,e=3,o=2}var c=t(i).width();480>c?s=1:677>c?s=o:959>c?s=e:959>c&&(s=n),a.calculate(s)},t.fn[h]=function(i){return this.each(function(){t.data(this,"plugin_"+h)||t.data(this,"plugin_"+h,new e(this,i))})}}(jQuery,window,document);